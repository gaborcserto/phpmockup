(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
var $ = window.jQuery;
var jQuery = window.jQuery;

exports.$ = $;
exports.jQuery = jQuery;

},{}],2:[function(require,module,exports){
'use strict';

var _jquery = require('./lib/jquery.es6');

(0, _jquery.$)(document).ready(function () {
	//pageLoad();
	formSubmit((0, _jquery.$)('#upload-form'));
});

/*function pageLoad() {
	let formLink = '.form-link';
	let imageLink = '.images-link';
	let main = $('main');

	$(formLink).addClass('active');
	$(imageLink).removeClass('active');
	main.html(main.load('form.tpl'));

	$('#form').on('click',() =>{
		$(formLink).addClass('active');
		$(imageLink).removeClass('active');
		main.html(main.load('form.tpl'));
	});
	$('#images').on('click',() =>{
		$(imageLink).addClass('active');
		$(formLink).removeClass('active');
		main.html(main.load('images.tpl'));
	});
}*/

function formSubmit(formId) {

	formId.on('submit', function (e) {
		e.preventDefault();

		var form_data = new FormData(formId);
		form_data.append('image', (0, _jquery.$)('#image')[0].files[0]);
		form_data.append('title', (0, _jquery.$)('input[name=title]').val());
		form_data.append('description', (0, _jquery.$)('input[name=description]').val());

		var titleGroup = '#title-group';
		var descriptionGroup = '#description-group';
		var imageGroup = '#image-group';
		var formGroup = '#form';

		(0, _jquery.$)(formGroup).removeClass('has-error');
		(0, _jquery.$)('div.alert').detach();

		// eslint-disable-next-line no-console
		console.log(form_data);

		_jquery.$.ajax({
			url: 'ajax.php?upload',
			method: 'POST',
			data: form_data,
			processData: false,
			contentType: false,
			dataType: 'json',
			success: function success(res) {
				// eslint-disable-next-line no-console
				console.log(res);
				if (res.success === true) {
					(0, _jquery.$)(formId).append('<div class="alert alert-success">' + res.message + '</div>');
				}
				if (res.success === false) {
					if (res.errors.title) {
						(0, _jquery.$)(titleGroup).addClass('has-error');
						(0, _jquery.$)(titleGroup).append('<div class="alert alert-danger" role="alert">' + res.errors.title + '</div>');
					}

					if (res.errors.description) {
						(0, _jquery.$)(descriptionGroup).addClass('has-error');
						(0, _jquery.$)(descriptionGroup).append('<div class="alert alert-danger" role="alert">' + res.errors.description + '</div>');
					}

					if (res.errors.image) {
						(0, _jquery.$)(imageGroup).addClass('has-error');
						(0, _jquery.$)(imageGroup).append('<div class="alert alert-danger" role="alert">' + res.errors.image + '</div>');
					}

					if (res.errors.form) {
						(0, _jquery.$)(formGroup).addClass('has-error');
						(0, _jquery.$)(formGroup).append('<div class="alert alert-danger" role="alert">' + res.errors.form + '</div>');
					}
				}
			},
			error: function error(res) {
				// eslint-disable-next-line no-console
				console.log(res);
			}
		});
		return false;
	});
}

},{"./lib/jquery.es6":1}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzY3JpcHRcXGxpYlxcanF1ZXJ5LmVzNiIsInNjcmlwdFxcc2NyaXB0LmVzNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0FDQUEsSUFBSSxJQUFJLE9BQU8sTUFBZjtBQUNBLElBQUksU0FBUyxPQUFPLE1BQXBCOztRQUVRLEMsR0FBQSxDO1FBQUcsTSxHQUFBLE07Ozs7O0FDSFg7O0FBRUEsZUFBRSxRQUFGLEVBQVksS0FBWixDQUFrQixZQUFNO0FBQ3ZCO0FBQ0EsWUFBVyxlQUFFLGNBQUYsQ0FBWDtBQUNBLENBSEQ7O0FBS0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXFCQSxTQUFTLFVBQVQsQ0FBcUIsTUFBckIsRUFBNkI7O0FBRTVCLFFBQU8sRUFBUCxDQUFVLFFBQVYsRUFBb0IsVUFBQyxDQUFELEVBQU07QUFDekIsSUFBRSxjQUFGOztBQUVBLE1BQUksWUFBWSxJQUFJLFFBQUosQ0FBYSxNQUFiLENBQWhCO0FBQ0EsWUFBVSxNQUFWLENBQWtCLE9BQWxCLEVBQTJCLGVBQUUsUUFBRixFQUFZLENBQVosRUFBZSxLQUFmLENBQXFCLENBQXJCLENBQTNCO0FBQ0EsWUFBVSxNQUFWLENBQWtCLE9BQWxCLEVBQTJCLGVBQUUsbUJBQUYsRUFBdUIsR0FBdkIsRUFBM0I7QUFDQSxZQUFVLE1BQVYsQ0FBa0IsYUFBbEIsRUFBaUMsZUFBRSx5QkFBRixFQUE2QixHQUE3QixFQUFqQzs7QUFFQSxNQUFJLGFBQWEsY0FBakI7QUFDQSxNQUFJLG1CQUFtQixvQkFBdkI7QUFDQSxNQUFJLGFBQWEsY0FBakI7QUFDQSxNQUFJLFlBQVksT0FBaEI7O0FBRUEsaUJBQUUsU0FBRixFQUFhLFdBQWIsQ0FBeUIsV0FBekI7QUFDQSxpQkFBRSxXQUFGLEVBQWUsTUFBZjs7QUFFQTtBQUNBLFVBQVEsR0FBUixDQUFZLFNBQVo7O0FBRUEsWUFBRSxJQUFGLENBQU87QUFDTixRQUFLLGlCQURDO0FBRU4sV0FBUSxNQUZGO0FBR04sU0FBTSxTQUhBO0FBSU4sZ0JBQWEsS0FKUDtBQUtOLGdCQUFhLEtBTFA7QUFNTixhQUFVLE1BTko7QUFPTixZQUFVLGlCQUFDLEdBQUQsRUFBUztBQUNsQjtBQUNBLFlBQVEsR0FBUixDQUFZLEdBQVo7QUFDQSxRQUFHLElBQUksT0FBSixLQUFnQixJQUFuQixFQUF5QjtBQUN4QixvQkFBRSxNQUFGLEVBQVUsTUFBVixDQUFpQixzQ0FBc0MsSUFBSSxPQUExQyxHQUFvRCxRQUFyRTtBQUNBO0FBQ0QsUUFBRyxJQUFJLE9BQUosS0FBZ0IsS0FBbkIsRUFBMEI7QUFDekIsU0FBSSxJQUFJLE1BQUosQ0FBVyxLQUFmLEVBQXNCO0FBQ3JCLHFCQUFFLFVBQUYsRUFBYyxRQUFkLENBQXVCLFdBQXZCO0FBQ0EscUJBQUUsVUFBRixFQUFjLE1BQWQsQ0FBcUIsa0RBQWtELElBQUksTUFBSixDQUFXLEtBQTdELEdBQXFFLFFBQTFGO0FBQ0E7O0FBRUQsU0FBSSxJQUFJLE1BQUosQ0FBVyxXQUFmLEVBQTRCO0FBQzNCLHFCQUFFLGdCQUFGLEVBQW9CLFFBQXBCLENBQTZCLFdBQTdCO0FBQ0EscUJBQUUsZ0JBQUYsRUFBb0IsTUFBcEIsQ0FBMkIsa0RBQWtELElBQUksTUFBSixDQUFXLFdBQTdELEdBQTJFLFFBQXRHO0FBQ0E7O0FBRUQsU0FBSSxJQUFJLE1BQUosQ0FBVyxLQUFmLEVBQXNCO0FBQ3JCLHFCQUFFLFVBQUYsRUFBYyxRQUFkLENBQXVCLFdBQXZCO0FBQ0EscUJBQUUsVUFBRixFQUFjLE1BQWQsQ0FBcUIsa0RBQWtELElBQUksTUFBSixDQUFXLEtBQTdELEdBQXFFLFFBQTFGO0FBQ0E7O0FBRUQsU0FBSSxJQUFJLE1BQUosQ0FBVyxJQUFmLEVBQXFCO0FBQ3BCLHFCQUFFLFNBQUYsRUFBYSxRQUFiLENBQXNCLFdBQXRCO0FBQ0EscUJBQUUsU0FBRixFQUFhLE1BQWIsQ0FBb0Isa0RBQWtELElBQUksTUFBSixDQUFXLElBQTdELEdBQW9FLFFBQXhGO0FBQ0E7QUFDRDtBQUNELElBbENLO0FBbUNOLFVBQVEsZUFBQyxHQUFELEVBQVM7QUFDaEI7QUFDQSxZQUFRLEdBQVIsQ0FBWSxHQUFaO0FBQ0E7QUF0Q0ssR0FBUDtBQXdDQSxTQUFPLEtBQVA7QUFDQSxFQTVERDtBQTZEQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJsZXQgJCA9IHdpbmRvdy5qUXVlcnk7XHJcbmxldCBqUXVlcnkgPSB3aW5kb3cualF1ZXJ5O1xyXG5cclxuZXhwb3J0IHskLCBqUXVlcnl9OyIsImltcG9ydCB7JH0gZnJvbSAnLi9saWIvanF1ZXJ5LmVzNic7XHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeSgoKSA9PiB7XHJcblx0Ly9wYWdlTG9hZCgpO1xyXG5cdGZvcm1TdWJtaXQoJCgnI3VwbG9hZC1mb3JtJykpO1xyXG59KTtcclxuXHJcbi8qZnVuY3Rpb24gcGFnZUxvYWQoKSB7XHJcblx0bGV0IGZvcm1MaW5rID0gJy5mb3JtLWxpbmsnO1xyXG5cdGxldCBpbWFnZUxpbmsgPSAnLmltYWdlcy1saW5rJztcclxuXHRsZXQgbWFpbiA9ICQoJ21haW4nKTtcclxuXHJcblx0JChmb3JtTGluaykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdCQoaW1hZ2VMaW5rKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0bWFpbi5odG1sKG1haW4ubG9hZCgnZm9ybS50cGwnKSk7XHJcblxyXG5cdCQoJyNmb3JtJykub24oJ2NsaWNrJywoKSA9PntcclxuXHRcdCQoZm9ybUxpbmspLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHRcdCQoaW1hZ2VMaW5rKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRtYWluLmh0bWwobWFpbi5sb2FkKCdmb3JtLnRwbCcpKTtcclxuXHR9KTtcclxuXHQkKCcjaW1hZ2VzJykub24oJ2NsaWNrJywoKSA9PntcclxuXHRcdCQoaW1hZ2VMaW5rKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0XHQkKGZvcm1MaW5rKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRtYWluLmh0bWwobWFpbi5sb2FkKCdpbWFnZXMudHBsJykpO1xyXG5cdH0pO1xyXG59Ki9cclxuXHJcbmZ1bmN0aW9uIGZvcm1TdWJtaXQgKGZvcm1JZCkge1xyXG5cclxuXHRmb3JtSWQub24oJ3N1Ym1pdCcsIChlKT0+IHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHRsZXQgZm9ybV9kYXRhID0gbmV3IEZvcm1EYXRhKGZvcm1JZCk7XHJcblx0XHRmb3JtX2RhdGEuYXBwZW5kKCAnaW1hZ2UnLCAkKCcjaW1hZ2UnKVswXS5maWxlc1swXSk7XHJcblx0XHRmb3JtX2RhdGEuYXBwZW5kKCAndGl0bGUnLCAkKCdpbnB1dFtuYW1lPXRpdGxlXScpLnZhbCgpKTtcclxuXHRcdGZvcm1fZGF0YS5hcHBlbmQoICdkZXNjcmlwdGlvbicsICQoJ2lucHV0W25hbWU9ZGVzY3JpcHRpb25dJykudmFsKCkpO1xyXG5cclxuXHRcdGxldCB0aXRsZUdyb3VwID0gJyN0aXRsZS1ncm91cCc7XHJcblx0XHRsZXQgZGVzY3JpcHRpb25Hcm91cCA9ICcjZGVzY3JpcHRpb24tZ3JvdXAnO1xyXG5cdFx0bGV0IGltYWdlR3JvdXAgPSAnI2ltYWdlLWdyb3VwJztcclxuXHRcdGxldCBmb3JtR3JvdXAgPSAnI2Zvcm0nO1xyXG5cclxuXHRcdCQoZm9ybUdyb3VwKS5yZW1vdmVDbGFzcygnaGFzLWVycm9yJyk7XHJcblx0XHQkKCdkaXYuYWxlcnQnKS5kZXRhY2goKTtcclxuXHJcblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxyXG5cdFx0Y29uc29sZS5sb2coZm9ybV9kYXRhKTtcclxuXHJcblx0XHQkLmFqYXgoe1xyXG5cdFx0XHR1cmw6ICdhamF4LnBocD91cGxvYWQnLFxyXG5cdFx0XHRtZXRob2Q6ICdQT1NUJyxcclxuXHRcdFx0ZGF0YTogZm9ybV9kYXRhLFxyXG5cdFx0XHRwcm9jZXNzRGF0YTogZmFsc2UsXHJcblx0XHRcdGNvbnRlbnRUeXBlOiBmYWxzZSxcclxuXHRcdFx0ZGF0YVR5cGU6ICdqc29uJyxcclxuXHRcdFx0c3VjY2VzczogKChyZXMpID0+IHtcclxuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxyXG5cdFx0XHRcdGNvbnNvbGUubG9nKHJlcyk7XHJcblx0XHRcdFx0aWYocmVzLnN1Y2Nlc3MgPT09IHRydWUpIHtcclxuXHRcdFx0XHRcdCQoZm9ybUlkKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1zdWNjZXNzXCI+JyArIHJlcy5tZXNzYWdlICsgJzwvZGl2PicpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZihyZXMuc3VjY2VzcyA9PT0gZmFsc2UpIHtcclxuXHRcdFx0XHRcdGlmIChyZXMuZXJyb3JzLnRpdGxlKSB7XHJcblx0XHRcdFx0XHRcdCQodGl0bGVHcm91cCkuYWRkQ2xhc3MoJ2hhcy1lcnJvcicpO1xyXG5cdFx0XHRcdFx0XHQkKHRpdGxlR3JvdXApLmFwcGVuZCgnPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiIHJvbGU9XCJhbGVydFwiPicgKyByZXMuZXJyb3JzLnRpdGxlICsgJzwvZGl2PicpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGlmIChyZXMuZXJyb3JzLmRlc2NyaXB0aW9uKSB7XHJcblx0XHRcdFx0XHRcdCQoZGVzY3JpcHRpb25Hcm91cCkuYWRkQ2xhc3MoJ2hhcy1lcnJvcicpO1xyXG5cdFx0XHRcdFx0XHQkKGRlc2NyaXB0aW9uR3JvdXApLmFwcGVuZCgnPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiIHJvbGU9XCJhbGVydFwiPicgKyByZXMuZXJyb3JzLmRlc2NyaXB0aW9uICsgJzwvZGl2PicpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGlmIChyZXMuZXJyb3JzLmltYWdlKSB7XHJcblx0XHRcdFx0XHRcdCQoaW1hZ2VHcm91cCkuYWRkQ2xhc3MoJ2hhcy1lcnJvcicpO1xyXG5cdFx0XHRcdFx0XHQkKGltYWdlR3JvdXApLmFwcGVuZCgnPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiIHJvbGU9XCJhbGVydFwiPicgKyByZXMuZXJyb3JzLmltYWdlICsgJzwvZGl2PicpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGlmIChyZXMuZXJyb3JzLmZvcm0pIHtcclxuXHRcdFx0XHRcdFx0JChmb3JtR3JvdXApLmFkZENsYXNzKCdoYXMtZXJyb3InKTtcclxuXHRcdFx0XHRcdFx0JChmb3JtR3JvdXApLmFwcGVuZCgnPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiIHJvbGU9XCJhbGVydFwiPicgKyByZXMuZXJyb3JzLmZvcm0gKyAnPC9kaXY+Jyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KSxcclxuXHRcdFx0ZXJyb3I6ICgocmVzKSA9PiB7XHJcblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhyZXMpO1xyXG5cdFx0XHR9KVxyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fSk7XHJcbn1cclxuIl19
