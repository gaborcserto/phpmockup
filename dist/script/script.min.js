(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
var $ = window.jQuery;
var jQuery = window.jQuery;

exports.$ = $;
exports.jQuery = jQuery;

},{}],2:[function(require,module,exports){
'use strict';

var _jquery = require('./lib/jquery.es6');

(0, _jquery.$)(document).ready(function () {
	pageLoad();
	formSubmit((0, _jquery.$)('#upload-form'));
});

function pageLoad() {
	var formLink = '.form-link';
	var imageLink = '.images-link';
	var main = (0, _jquery.$)('main');

	main.html(main.load('form.tpl'));
	(0, _jquery.$)('#form').on('click', function () {
		(0, _jquery.$)(formLink).addClass('active');
		(0, _jquery.$)(imageLink).removeClass('active');
		main.html(main.load('form.tpl'));
	});
	(0, _jquery.$)('#images').on('click', function () {
		(0, _jquery.$)(imageLink).addClass('active');
		(0, _jquery.$)(formLink).removeClass('active');
		main.html(main.load('images.tpl'));
	});
}

function formSubmit(formId) {

	formId.on('submit', function (e) {
		e.preventDefault();

		var form_data = new FormData(formId);
		form_data.append('image', (0, _jquery.$)('#image')[0].files[0]);
		form_data.append('title', (0, _jquery.$)('input[name=title]').val());
		form_data.append('description', (0, _jquery.$)('input[name=description]').val());

		var titleGroup = '#title-group';
		var descriptionGroup = '#description-group';
		var imageGroup = '#image-group';
		var formGroup = '#form';

		(0, _jquery.$)(formGroup).removeClass('has-error');
		(0, _jquery.$)('div.alert').detach();

		// eslint-disable-next-line no-console
		console.log(form_data);

		_jquery.$.ajax({
			url: 'ajax.php?upload',
			method: 'POST',
			data: form_data,
			processData: false,
			contentType: false,
			dataType: 'json',
			success: function success(res) {
				// eslint-disable-next-line no-console
				console.log(res);
				if (res.success === true) {
					(0, _jquery.$)(formId).append('<div class="alert alert-success">' + res.message + '</div>');
				}
				if (res.success === false) {
					if (res.errors.title) {
						(0, _jquery.$)(titleGroup).addClass('has-error');
						(0, _jquery.$)(titleGroup).append('<div class="alert alert-danger" role="alert">' + res.errors.title + '</div>');
					}

					if (res.errors.description) {
						(0, _jquery.$)(descriptionGroup).addClass('has-error');
						(0, _jquery.$)(descriptionGroup).append('<div class="alert alert-danger" role="alert">' + res.errors.description + '</div>');
					}

					if (res.errors.image) {
						(0, _jquery.$)(imageGroup).addClass('has-error');
						(0, _jquery.$)(imageGroup).append('<div class="alert alert-danger" role="alert">' + res.errors.image + '</div>');
					}

					if (res.errors.form) {
						(0, _jquery.$)(formGroup).addClass('has-error');
						(0, _jquery.$)(formGroup).append('<div class="alert alert-danger" role="alert">' + res.errors.form + '</div>');
					}
				}
			},
			error: function error(res) {
				// eslint-disable-next-line no-console
				console.log(res);
			}
		});
		return false;
	});
}

},{"./lib/jquery.es6":1}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzY3JpcHRcXGxpYlxcanF1ZXJ5LmVzNiIsInNjcmlwdFxcc2NyaXB0LmVzNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0FDQUEsSUFBSSxJQUFJLE9BQU8sTUFBZjtBQUNBLElBQUksU0FBUyxPQUFPLE1BQXBCOztRQUVRLEMsR0FBQSxDO1FBQUcsTSxHQUFBLE07Ozs7O0FDSFg7O0FBRUEsZUFBRSxRQUFGLEVBQVksS0FBWixDQUFrQixZQUFNO0FBQ3ZCO0FBQ0EsWUFBVyxlQUFFLGNBQUYsQ0FBWDtBQUNBLENBSEQ7O0FBS0EsU0FBUyxRQUFULEdBQW9CO0FBQ25CLEtBQUksV0FBVyxZQUFmO0FBQ0EsS0FBSSxZQUFZLGNBQWhCO0FBQ0EsS0FBSSxPQUFPLGVBQUUsTUFBRixDQUFYOztBQUVBLE1BQUssSUFBTCxDQUFVLEtBQUssSUFBTCxDQUFVLFVBQVYsQ0FBVjtBQUNBLGdCQUFFLE9BQUYsRUFBVyxFQUFYLENBQWMsT0FBZCxFQUFzQixZQUFLO0FBQzFCLGlCQUFFLFFBQUYsRUFBWSxRQUFaLENBQXFCLFFBQXJCO0FBQ0EsaUJBQUUsU0FBRixFQUFhLFdBQWIsQ0FBeUIsUUFBekI7QUFDQSxPQUFLLElBQUwsQ0FBVSxLQUFLLElBQUwsQ0FBVSxVQUFWLENBQVY7QUFDQSxFQUpEO0FBS0EsZ0JBQUUsU0FBRixFQUFhLEVBQWIsQ0FBZ0IsT0FBaEIsRUFBd0IsWUFBSztBQUM1QixpQkFBRSxTQUFGLEVBQWEsUUFBYixDQUFzQixRQUF0QjtBQUNBLGlCQUFFLFFBQUYsRUFBWSxXQUFaLENBQXdCLFFBQXhCO0FBQ0EsT0FBSyxJQUFMLENBQVUsS0FBSyxJQUFMLENBQVUsWUFBVixDQUFWO0FBQ0EsRUFKRDtBQUtBOztBQUVELFNBQVMsVUFBVCxDQUFxQixNQUFyQixFQUE2Qjs7QUFFNUIsUUFBTyxFQUFQLENBQVUsUUFBVixFQUFvQixVQUFDLENBQUQsRUFBTTtBQUN6QixJQUFFLGNBQUY7O0FBRUEsTUFBSSxZQUFZLElBQUksUUFBSixDQUFhLE1BQWIsQ0FBaEI7QUFDQSxZQUFVLE1BQVYsQ0FBa0IsT0FBbEIsRUFBMkIsZUFBRSxRQUFGLEVBQVksQ0FBWixFQUFlLEtBQWYsQ0FBcUIsQ0FBckIsQ0FBM0I7QUFDQSxZQUFVLE1BQVYsQ0FBa0IsT0FBbEIsRUFBMkIsZUFBRSxtQkFBRixFQUF1QixHQUF2QixFQUEzQjtBQUNBLFlBQVUsTUFBVixDQUFrQixhQUFsQixFQUFpQyxlQUFFLHlCQUFGLEVBQTZCLEdBQTdCLEVBQWpDOztBQUVBLE1BQUksYUFBYSxjQUFqQjtBQUNBLE1BQUksbUJBQW1CLG9CQUF2QjtBQUNBLE1BQUksYUFBYSxjQUFqQjtBQUNBLE1BQUksWUFBWSxPQUFoQjs7QUFFQSxpQkFBRSxTQUFGLEVBQWEsV0FBYixDQUF5QixXQUF6QjtBQUNBLGlCQUFFLFdBQUYsRUFBZSxNQUFmOztBQUVBO0FBQ0EsVUFBUSxHQUFSLENBQVksU0FBWjs7QUFFQSxZQUFFLElBQUYsQ0FBTztBQUNOLFFBQUssaUJBREM7QUFFTixXQUFRLE1BRkY7QUFHTixTQUFNLFNBSEE7QUFJTixnQkFBYSxLQUpQO0FBS04sZ0JBQWEsS0FMUDtBQU1OLGFBQVUsTUFOSjtBQU9OLFlBQVUsaUJBQUMsR0FBRCxFQUFTO0FBQ2xCO0FBQ0EsWUFBUSxHQUFSLENBQVksR0FBWjtBQUNBLFFBQUcsSUFBSSxPQUFKLEtBQWdCLElBQW5CLEVBQXlCO0FBQ3hCLG9CQUFFLE1BQUYsRUFBVSxNQUFWLENBQWlCLHNDQUFzQyxJQUFJLE9BQTFDLEdBQW9ELFFBQXJFO0FBQ0E7QUFDRCxRQUFHLElBQUksT0FBSixLQUFnQixLQUFuQixFQUEwQjtBQUN6QixTQUFJLElBQUksTUFBSixDQUFXLEtBQWYsRUFBc0I7QUFDckIscUJBQUUsVUFBRixFQUFjLFFBQWQsQ0FBdUIsV0FBdkI7QUFDQSxxQkFBRSxVQUFGLEVBQWMsTUFBZCxDQUFxQixrREFBa0QsSUFBSSxNQUFKLENBQVcsS0FBN0QsR0FBcUUsUUFBMUY7QUFDQTs7QUFFRCxTQUFJLElBQUksTUFBSixDQUFXLFdBQWYsRUFBNEI7QUFDM0IscUJBQUUsZ0JBQUYsRUFBb0IsUUFBcEIsQ0FBNkIsV0FBN0I7QUFDQSxxQkFBRSxnQkFBRixFQUFvQixNQUFwQixDQUEyQixrREFBa0QsSUFBSSxNQUFKLENBQVcsV0FBN0QsR0FBMkUsUUFBdEc7QUFDQTs7QUFFRCxTQUFJLElBQUksTUFBSixDQUFXLEtBQWYsRUFBc0I7QUFDckIscUJBQUUsVUFBRixFQUFjLFFBQWQsQ0FBdUIsV0FBdkI7QUFDQSxxQkFBRSxVQUFGLEVBQWMsTUFBZCxDQUFxQixrREFBa0QsSUFBSSxNQUFKLENBQVcsS0FBN0QsR0FBcUUsUUFBMUY7QUFDQTs7QUFFRCxTQUFJLElBQUksTUFBSixDQUFXLElBQWYsRUFBcUI7QUFDcEIscUJBQUUsU0FBRixFQUFhLFFBQWIsQ0FBc0IsV0FBdEI7QUFDQSxxQkFBRSxTQUFGLEVBQWEsTUFBYixDQUFvQixrREFBa0QsSUFBSSxNQUFKLENBQVcsSUFBN0QsR0FBb0UsUUFBeEY7QUFDQTtBQUNEO0FBQ0QsSUFsQ0s7QUFtQ04sVUFBUSxlQUFDLEdBQUQsRUFBUztBQUNoQjtBQUNBLFlBQVEsR0FBUixDQUFZLEdBQVo7QUFDQTtBQXRDSyxHQUFQO0FBd0NBLFNBQU8sS0FBUDtBQUNBLEVBNUREO0FBNkRBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImxldCAkID0gd2luZG93LmpRdWVyeTtcclxubGV0IGpRdWVyeSA9IHdpbmRvdy5qUXVlcnk7XHJcblxyXG5leHBvcnQgeyQsIGpRdWVyeX07IiwiaW1wb3J0IHskfSBmcm9tICcuL2xpYi9qcXVlcnkuZXM2JztcclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KCgpID0+IHtcclxuXHRwYWdlTG9hZCgpO1xyXG5cdGZvcm1TdWJtaXQoJCgnI3VwbG9hZC1mb3JtJykpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIHBhZ2VMb2FkKCkge1xyXG5cdGxldCBmb3JtTGluayA9ICcuZm9ybS1saW5rJztcclxuXHRsZXQgaW1hZ2VMaW5rID0gJy5pbWFnZXMtbGluayc7XHJcblx0bGV0IG1haW4gPSAkKCdtYWluJyk7XHJcblxyXG5cdG1haW4uaHRtbChtYWluLmxvYWQoJ2Zvcm0udHBsJykpO1xyXG5cdCQoJyNmb3JtJykub24oJ2NsaWNrJywoKSA9PntcclxuXHRcdCQoZm9ybUxpbmspLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHRcdCQoaW1hZ2VMaW5rKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRtYWluLmh0bWwobWFpbi5sb2FkKCdmb3JtLnRwbCcpKTtcclxuXHR9KTtcclxuXHQkKCcjaW1hZ2VzJykub24oJ2NsaWNrJywoKSA9PntcclxuXHRcdCQoaW1hZ2VMaW5rKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0XHQkKGZvcm1MaW5rKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRtYWluLmh0bWwobWFpbi5sb2FkKCdpbWFnZXMudHBsJykpO1xyXG5cdH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmb3JtU3VibWl0IChmb3JtSWQpIHtcclxuXHJcblx0Zm9ybUlkLm9uKCdzdWJtaXQnLCAoZSk9PiB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdFx0bGV0IGZvcm1fZGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtSWQpO1xyXG5cdFx0Zm9ybV9kYXRhLmFwcGVuZCggJ2ltYWdlJywgJCgnI2ltYWdlJylbMF0uZmlsZXNbMF0pO1xyXG5cdFx0Zm9ybV9kYXRhLmFwcGVuZCggJ3RpdGxlJywgJCgnaW5wdXRbbmFtZT10aXRsZV0nKS52YWwoKSk7XHJcblx0XHRmb3JtX2RhdGEuYXBwZW5kKCAnZGVzY3JpcHRpb24nLCAkKCdpbnB1dFtuYW1lPWRlc2NyaXB0aW9uXScpLnZhbCgpKTtcclxuXHJcblx0XHRsZXQgdGl0bGVHcm91cCA9ICcjdGl0bGUtZ3JvdXAnO1xyXG5cdFx0bGV0IGRlc2NyaXB0aW9uR3JvdXAgPSAnI2Rlc2NyaXB0aW9uLWdyb3VwJztcclxuXHRcdGxldCBpbWFnZUdyb3VwID0gJyNpbWFnZS1ncm91cCc7XHJcblx0XHRsZXQgZm9ybUdyb3VwID0gJyNmb3JtJztcclxuXHJcblx0XHQkKGZvcm1Hcm91cCkucmVtb3ZlQ2xhc3MoJ2hhcy1lcnJvcicpO1xyXG5cdFx0JCgnZGl2LmFsZXJ0JykuZGV0YWNoKCk7XHJcblxyXG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcclxuXHRcdGNvbnNvbGUubG9nKGZvcm1fZGF0YSk7XHJcblxyXG5cdFx0JC5hamF4KHtcclxuXHRcdFx0dXJsOiAnYWpheC5waHA/dXBsb2FkJyxcclxuXHRcdFx0bWV0aG9kOiAnUE9TVCcsXHJcblx0XHRcdGRhdGE6IGZvcm1fZGF0YSxcclxuXHRcdFx0cHJvY2Vzc0RhdGE6IGZhbHNlLFxyXG5cdFx0XHRjb250ZW50VHlwZTogZmFsc2UsXHJcblx0XHRcdGRhdGFUeXBlOiAnanNvbicsXHJcblx0XHRcdHN1Y2Nlc3M6ICgocmVzKSA9PiB7XHJcblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhyZXMpO1xyXG5cdFx0XHRcdGlmKHJlcy5zdWNjZXNzID09PSB0cnVlKSB7XHJcblx0XHRcdFx0XHQkKGZvcm1JZCkuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtc3VjY2Vzc1wiPicgKyByZXMubWVzc2FnZSArICc8L2Rpdj4nKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYocmVzLnN1Y2Nlc3MgPT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRpZiAocmVzLmVycm9ycy50aXRsZSkge1xyXG5cdFx0XHRcdFx0XHQkKHRpdGxlR3JvdXApLmFkZENsYXNzKCdoYXMtZXJyb3InKTtcclxuXHRcdFx0XHRcdFx0JCh0aXRsZUdyb3VwKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1kYW5nZXJcIiByb2xlPVwiYWxlcnRcIj4nICsgcmVzLmVycm9ycy50aXRsZSArICc8L2Rpdj4nKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZiAocmVzLmVycm9ycy5kZXNjcmlwdGlvbikge1xyXG5cdFx0XHRcdFx0XHQkKGRlc2NyaXB0aW9uR3JvdXApLmFkZENsYXNzKCdoYXMtZXJyb3InKTtcclxuXHRcdFx0XHRcdFx0JChkZXNjcmlwdGlvbkdyb3VwKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1kYW5nZXJcIiByb2xlPVwiYWxlcnRcIj4nICsgcmVzLmVycm9ycy5kZXNjcmlwdGlvbiArICc8L2Rpdj4nKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZiAocmVzLmVycm9ycy5pbWFnZSkge1xyXG5cdFx0XHRcdFx0XHQkKGltYWdlR3JvdXApLmFkZENsYXNzKCdoYXMtZXJyb3InKTtcclxuXHRcdFx0XHRcdFx0JChpbWFnZUdyb3VwKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1kYW5nZXJcIiByb2xlPVwiYWxlcnRcIj4nICsgcmVzLmVycm9ycy5pbWFnZSArICc8L2Rpdj4nKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZiAocmVzLmVycm9ycy5mb3JtKSB7XHJcblx0XHRcdFx0XHRcdCQoZm9ybUdyb3VwKS5hZGRDbGFzcygnaGFzLWVycm9yJyk7XHJcblx0XHRcdFx0XHRcdCQoZm9ybUdyb3VwKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1kYW5nZXJcIiByb2xlPVwiYWxlcnRcIj4nICsgcmVzLmVycm9ycy5mb3JtICsgJzwvZGl2PicpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSksXHJcblx0XHRcdGVycm9yOiAoKHJlcykgPT4ge1xyXG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXHJcblx0XHRcdFx0Y29uc29sZS5sb2cocmVzKTtcclxuXHRcdFx0fSlcclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH0pO1xyXG59XHJcbiJdfQ==
