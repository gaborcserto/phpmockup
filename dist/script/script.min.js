(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
var $ = window.jQuery;
var jQuery = window.jQuery;

exports.$ = $;
exports.jQuery = jQuery;

},{}],2:[function(require,module,exports){
'use strict';

var _jquery = require('./lib/jquery.es6');

(0, _jquery.$)(document).ready(function () {
	pageLoad();
	formSubmit((0, _jquery.$)('#upload-form'));
});

function pageLoad() {
	var formLink = '.form-link';
	var imageLink = '.images-link';
	var main = (0, _jquery.$)('main');

	/*$(formLink).addClass('active');
 $(imageLink).removeClass('active');
 main.html(main.load('form.tpl'));*/

	(0, _jquery.$)('#form').on('click', function () {
		(0, _jquery.$)(formLink).addClass('active');
		(0, _jquery.$)(imageLink).removeClass('active');
		main.html(main.load('form.tpl'));
	});
	(0, _jquery.$)('#images').on('click', function () {
		(0, _jquery.$)(imageLink).addClass('active');
		(0, _jquery.$)(formLink).removeClass('active');
		main.html(main.load('images.tpl'));
	});
}

function formSubmit(formId) {

	formId.on('submit', function (e) {
		e.preventDefault();

		var form_data = new FormData(formId);
		form_data.append('image', (0, _jquery.$)('#image')[0].files[0]);
		form_data.append('title', (0, _jquery.$)('input[name=title]').val());
		form_data.append('description', (0, _jquery.$)('input[name=description]').val());

		var titleGroup = '#title-group';
		var descriptionGroup = '#description-group';
		var imageGroup = '#image-group';
		var formGroup = '#form';

		(0, _jquery.$)(formGroup).removeClass('has-error');
		(0, _jquery.$)('div.alert').detach();

		// eslint-disable-next-line no-console
		console.log(form_data);

		_jquery.$.ajax({
			url: 'ajax.php?upload',
			method: 'POST',
			data: form_data,
			processData: false,
			contentType: false,
			dataType: 'json',
			success: function success(res) {
				// eslint-disable-next-line no-console
				console.log(res);
				if (res.success === true) {
					(0, _jquery.$)(formId).append('<div class="alert alert-success">' + res.message + '</div>');
				}
				if (res.success === false) {
					if (res.errors.title) {
						(0, _jquery.$)(titleGroup).addClass('has-error');
						(0, _jquery.$)(titleGroup).append('<div class="alert alert-danger" role="alert">' + res.errors.title + '</div>');
					}

					if (res.errors.description) {
						(0, _jquery.$)(descriptionGroup).addClass('has-error');
						(0, _jquery.$)(descriptionGroup).append('<div class="alert alert-danger" role="alert">' + res.errors.description + '</div>');
					}

					if (res.errors.image) {
						(0, _jquery.$)(imageGroup).addClass('has-error');
						(0, _jquery.$)(imageGroup).append('<div class="alert alert-danger" role="alert">' + res.errors.image + '</div>');
					}

					if (res.errors.form) {
						(0, _jquery.$)(formGroup).addClass('has-error');
						(0, _jquery.$)(formGroup).append('<div class="alert alert-danger" role="alert">' + res.errors.form + '</div>');
					}
				}
			},
			error: function error(res) {
				// eslint-disable-next-line no-console
				console.log(res);
			}
		});
		return false;
	});
}

},{"./lib/jquery.es6":1}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzY3JpcHRcXGxpYlxcanF1ZXJ5LmVzNiIsInNjcmlwdFxcc2NyaXB0LmVzNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0FDQUEsSUFBSSxJQUFJLE9BQU8sTUFBZjtBQUNBLElBQUksU0FBUyxPQUFPLE1BQXBCOztRQUVRLEMsR0FBQSxDO1FBQUcsTSxHQUFBLE07Ozs7O0FDSFg7O0FBRUEsZUFBRSxRQUFGLEVBQVksS0FBWixDQUFrQixZQUFNO0FBQ3ZCO0FBQ0EsWUFBVyxlQUFFLGNBQUYsQ0FBWDtBQUNBLENBSEQ7O0FBS0EsU0FBUyxRQUFULEdBQW9CO0FBQ25CLEtBQUksV0FBVyxZQUFmO0FBQ0EsS0FBSSxZQUFZLGNBQWhCO0FBQ0EsS0FBSSxPQUFPLGVBQUUsTUFBRixDQUFYOztBQUVBOzs7O0FBSUEsZ0JBQUUsT0FBRixFQUFXLEVBQVgsQ0FBYyxPQUFkLEVBQXNCLFlBQUs7QUFDMUIsaUJBQUUsUUFBRixFQUFZLFFBQVosQ0FBcUIsUUFBckI7QUFDQSxpQkFBRSxTQUFGLEVBQWEsV0FBYixDQUF5QixRQUF6QjtBQUNBLE9BQUssSUFBTCxDQUFVLEtBQUssSUFBTCxDQUFVLFVBQVYsQ0FBVjtBQUNBLEVBSkQ7QUFLQSxnQkFBRSxTQUFGLEVBQWEsRUFBYixDQUFnQixPQUFoQixFQUF3QixZQUFLO0FBQzVCLGlCQUFFLFNBQUYsRUFBYSxRQUFiLENBQXNCLFFBQXRCO0FBQ0EsaUJBQUUsUUFBRixFQUFZLFdBQVosQ0FBd0IsUUFBeEI7QUFDQSxPQUFLLElBQUwsQ0FBVSxLQUFLLElBQUwsQ0FBVSxZQUFWLENBQVY7QUFDQSxFQUpEO0FBS0E7O0FBRUQsU0FBUyxVQUFULENBQXFCLE1BQXJCLEVBQTZCOztBQUU1QixRQUFPLEVBQVAsQ0FBVSxRQUFWLEVBQW9CLFVBQUMsQ0FBRCxFQUFNO0FBQ3pCLElBQUUsY0FBRjs7QUFFQSxNQUFJLFlBQVksSUFBSSxRQUFKLENBQWEsTUFBYixDQUFoQjtBQUNBLFlBQVUsTUFBVixDQUFrQixPQUFsQixFQUEyQixlQUFFLFFBQUYsRUFBWSxDQUFaLEVBQWUsS0FBZixDQUFxQixDQUFyQixDQUEzQjtBQUNBLFlBQVUsTUFBVixDQUFrQixPQUFsQixFQUEyQixlQUFFLG1CQUFGLEVBQXVCLEdBQXZCLEVBQTNCO0FBQ0EsWUFBVSxNQUFWLENBQWtCLGFBQWxCLEVBQWlDLGVBQUUseUJBQUYsRUFBNkIsR0FBN0IsRUFBakM7O0FBRUEsTUFBSSxhQUFhLGNBQWpCO0FBQ0EsTUFBSSxtQkFBbUIsb0JBQXZCO0FBQ0EsTUFBSSxhQUFhLGNBQWpCO0FBQ0EsTUFBSSxZQUFZLE9BQWhCOztBQUVBLGlCQUFFLFNBQUYsRUFBYSxXQUFiLENBQXlCLFdBQXpCO0FBQ0EsaUJBQUUsV0FBRixFQUFlLE1BQWY7O0FBRUE7QUFDQSxVQUFRLEdBQVIsQ0FBWSxTQUFaOztBQUVBLFlBQUUsSUFBRixDQUFPO0FBQ04sUUFBSyxpQkFEQztBQUVOLFdBQVEsTUFGRjtBQUdOLFNBQU0sU0FIQTtBQUlOLGdCQUFhLEtBSlA7QUFLTixnQkFBYSxLQUxQO0FBTU4sYUFBVSxNQU5KO0FBT04sWUFBVSxpQkFBQyxHQUFELEVBQVM7QUFDbEI7QUFDQSxZQUFRLEdBQVIsQ0FBWSxHQUFaO0FBQ0EsUUFBRyxJQUFJLE9BQUosS0FBZ0IsSUFBbkIsRUFBeUI7QUFDeEIsb0JBQUUsTUFBRixFQUFVLE1BQVYsQ0FBaUIsc0NBQXNDLElBQUksT0FBMUMsR0FBb0QsUUFBckU7QUFDQTtBQUNELFFBQUcsSUFBSSxPQUFKLEtBQWdCLEtBQW5CLEVBQTBCO0FBQ3pCLFNBQUksSUFBSSxNQUFKLENBQVcsS0FBZixFQUFzQjtBQUNyQixxQkFBRSxVQUFGLEVBQWMsUUFBZCxDQUF1QixXQUF2QjtBQUNBLHFCQUFFLFVBQUYsRUFBYyxNQUFkLENBQXFCLGtEQUFrRCxJQUFJLE1BQUosQ0FBVyxLQUE3RCxHQUFxRSxRQUExRjtBQUNBOztBQUVELFNBQUksSUFBSSxNQUFKLENBQVcsV0FBZixFQUE0QjtBQUMzQixxQkFBRSxnQkFBRixFQUFvQixRQUFwQixDQUE2QixXQUE3QjtBQUNBLHFCQUFFLGdCQUFGLEVBQW9CLE1BQXBCLENBQTJCLGtEQUFrRCxJQUFJLE1BQUosQ0FBVyxXQUE3RCxHQUEyRSxRQUF0RztBQUNBOztBQUVELFNBQUksSUFBSSxNQUFKLENBQVcsS0FBZixFQUFzQjtBQUNyQixxQkFBRSxVQUFGLEVBQWMsUUFBZCxDQUF1QixXQUF2QjtBQUNBLHFCQUFFLFVBQUYsRUFBYyxNQUFkLENBQXFCLGtEQUFrRCxJQUFJLE1BQUosQ0FBVyxLQUE3RCxHQUFxRSxRQUExRjtBQUNBOztBQUVELFNBQUksSUFBSSxNQUFKLENBQVcsSUFBZixFQUFxQjtBQUNwQixxQkFBRSxTQUFGLEVBQWEsUUFBYixDQUFzQixXQUF0QjtBQUNBLHFCQUFFLFNBQUYsRUFBYSxNQUFiLENBQW9CLGtEQUFrRCxJQUFJLE1BQUosQ0FBVyxJQUE3RCxHQUFvRSxRQUF4RjtBQUNBO0FBQ0Q7QUFDRCxJQWxDSztBQW1DTixVQUFRLGVBQUMsR0FBRCxFQUFTO0FBQ2hCO0FBQ0EsWUFBUSxHQUFSLENBQVksR0FBWjtBQUNBO0FBdENLLEdBQVA7QUF3Q0EsU0FBTyxLQUFQO0FBQ0EsRUE1REQ7QUE2REEiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwibGV0ICQgPSB3aW5kb3cualF1ZXJ5O1xyXG5sZXQgalF1ZXJ5ID0gd2luZG93LmpRdWVyeTtcclxuXHJcbmV4cG9ydCB7JCwgalF1ZXJ5fTsiLCJpbXBvcnQgeyR9IGZyb20gJy4vbGliL2pxdWVyeS5lczYnO1xyXG5cclxuJChkb2N1bWVudCkucmVhZHkoKCkgPT4ge1xyXG5cdHBhZ2VMb2FkKCk7XHJcblx0Zm9ybVN1Ym1pdCgkKCcjdXBsb2FkLWZvcm0nKSk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gcGFnZUxvYWQoKSB7XHJcblx0bGV0IGZvcm1MaW5rID0gJy5mb3JtLWxpbmsnO1xyXG5cdGxldCBpbWFnZUxpbmsgPSAnLmltYWdlcy1saW5rJztcclxuXHRsZXQgbWFpbiA9ICQoJ21haW4nKTtcclxuXHJcblx0LyokKGZvcm1MaW5rKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0JChpbWFnZUxpbmspLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHRtYWluLmh0bWwobWFpbi5sb2FkKCdmb3JtLnRwbCcpKTsqL1xyXG5cclxuXHQkKCcjZm9ybScpLm9uKCdjbGljaycsKCkgPT57XHJcblx0XHQkKGZvcm1MaW5rKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0XHQkKGltYWdlTGluaykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0bWFpbi5odG1sKG1haW4ubG9hZCgnZm9ybS50cGwnKSk7XHJcblx0fSk7XHJcblx0JCgnI2ltYWdlcycpLm9uKCdjbGljaycsKCkgPT57XHJcblx0XHQkKGltYWdlTGluaykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0JChmb3JtTGluaykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0bWFpbi5odG1sKG1haW4ubG9hZCgnaW1hZ2VzLnRwbCcpKTtcclxuXHR9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZm9ybVN1Ym1pdCAoZm9ybUlkKSB7XHJcblxyXG5cdGZvcm1JZC5vbignc3VibWl0JywgKGUpPT4ge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdGxldCBmb3JtX2RhdGEgPSBuZXcgRm9ybURhdGEoZm9ybUlkKTtcclxuXHRcdGZvcm1fZGF0YS5hcHBlbmQoICdpbWFnZScsICQoJyNpbWFnZScpWzBdLmZpbGVzWzBdKTtcclxuXHRcdGZvcm1fZGF0YS5hcHBlbmQoICd0aXRsZScsICQoJ2lucHV0W25hbWU9dGl0bGVdJykudmFsKCkpO1xyXG5cdFx0Zm9ybV9kYXRhLmFwcGVuZCggJ2Rlc2NyaXB0aW9uJywgJCgnaW5wdXRbbmFtZT1kZXNjcmlwdGlvbl0nKS52YWwoKSk7XHJcblxyXG5cdFx0bGV0IHRpdGxlR3JvdXAgPSAnI3RpdGxlLWdyb3VwJztcclxuXHRcdGxldCBkZXNjcmlwdGlvbkdyb3VwID0gJyNkZXNjcmlwdGlvbi1ncm91cCc7XHJcblx0XHRsZXQgaW1hZ2VHcm91cCA9ICcjaW1hZ2UtZ3JvdXAnO1xyXG5cdFx0bGV0IGZvcm1Hcm91cCA9ICcjZm9ybSc7XHJcblxyXG5cdFx0JChmb3JtR3JvdXApLnJlbW92ZUNsYXNzKCdoYXMtZXJyb3InKTtcclxuXHRcdCQoJ2Rpdi5hbGVydCcpLmRldGFjaCgpO1xyXG5cclxuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXHJcblx0XHRjb25zb2xlLmxvZyhmb3JtX2RhdGEpO1xyXG5cclxuXHRcdCQuYWpheCh7XHJcblx0XHRcdHVybDogJ2FqYXgucGhwP3VwbG9hZCcsXHJcblx0XHRcdG1ldGhvZDogJ1BPU1QnLFxyXG5cdFx0XHRkYXRhOiBmb3JtX2RhdGEsXHJcblx0XHRcdHByb2Nlc3NEYXRhOiBmYWxzZSxcclxuXHRcdFx0Y29udGVudFR5cGU6IGZhbHNlLFxyXG5cdFx0XHRkYXRhVHlwZTogJ2pzb24nLFxyXG5cdFx0XHRzdWNjZXNzOiAoKHJlcykgPT4ge1xyXG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXHJcblx0XHRcdFx0Y29uc29sZS5sb2cocmVzKTtcclxuXHRcdFx0XHRpZihyZXMuc3VjY2VzcyA9PT0gdHJ1ZSkge1xyXG5cdFx0XHRcdFx0JChmb3JtSWQpLmFwcGVuZCgnPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXN1Y2Nlc3NcIj4nICsgcmVzLm1lc3NhZ2UgKyAnPC9kaXY+Jyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmKHJlcy5zdWNjZXNzID09PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0aWYgKHJlcy5lcnJvcnMudGl0bGUpIHtcclxuXHRcdFx0XHRcdFx0JCh0aXRsZUdyb3VwKS5hZGRDbGFzcygnaGFzLWVycm9yJyk7XHJcblx0XHRcdFx0XHRcdCQodGl0bGVHcm91cCkuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCIgcm9sZT1cImFsZXJ0XCI+JyArIHJlcy5lcnJvcnMudGl0bGUgKyAnPC9kaXY+Jyk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0aWYgKHJlcy5lcnJvcnMuZGVzY3JpcHRpb24pIHtcclxuXHRcdFx0XHRcdFx0JChkZXNjcmlwdGlvbkdyb3VwKS5hZGRDbGFzcygnaGFzLWVycm9yJyk7XHJcblx0XHRcdFx0XHRcdCQoZGVzY3JpcHRpb25Hcm91cCkuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCIgcm9sZT1cImFsZXJ0XCI+JyArIHJlcy5lcnJvcnMuZGVzY3JpcHRpb24gKyAnPC9kaXY+Jyk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0aWYgKHJlcy5lcnJvcnMuaW1hZ2UpIHtcclxuXHRcdFx0XHRcdFx0JChpbWFnZUdyb3VwKS5hZGRDbGFzcygnaGFzLWVycm9yJyk7XHJcblx0XHRcdFx0XHRcdCQoaW1hZ2VHcm91cCkuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCIgcm9sZT1cImFsZXJ0XCI+JyArIHJlcy5lcnJvcnMuaW1hZ2UgKyAnPC9kaXY+Jyk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0aWYgKHJlcy5lcnJvcnMuZm9ybSkge1xyXG5cdFx0XHRcdFx0XHQkKGZvcm1Hcm91cCkuYWRkQ2xhc3MoJ2hhcy1lcnJvcicpO1xyXG5cdFx0XHRcdFx0XHQkKGZvcm1Hcm91cCkuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCIgcm9sZT1cImFsZXJ0XCI+JyArIHJlcy5lcnJvcnMuZm9ybSArICc8L2Rpdj4nKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLFxyXG5cdFx0XHRlcnJvcjogKChyZXMpID0+IHtcclxuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxyXG5cdFx0XHRcdGNvbnNvbGUubG9nKHJlcyk7XHJcblx0XHRcdH0pXHJcblx0XHR9KTtcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9KTtcclxufVxyXG4iXX0=
